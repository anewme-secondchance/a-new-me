<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mindset | A New Me</title>

<style>
body {
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f6fb;
}

/* MOBILE APP STYLE HEADER */
.app-header {
  background:#1f3c88;
  color:white;
  padding:15px;
  text-align:center;
  font-size:18px;
  font-weight:bold;
  position:sticky;
  top:0;
  z-index:100;
}

.container {
  padding:15px;
  padding-bottom:80px;
}

.card {
  background:white;
  padding:15px;
  border-radius:12px;
  margin-bottom:15px;
  box-shadow:0 4px 10px rgba(0,0,0,0.08);
}

textarea,input {
  width:100%;
  padding:10px;
  border-radius:8px;
  border:1px solid #ccc;
  margin-top:8px;
}

button {
  background:#1f3c88;
  color:white;
  border:none;
  padding:8px 14px;
  border-radius:6px;
  cursor:pointer;
  margin-top:10px;
}

.notification {
  background:#ff914d;
  color:white;
  padding:10px;
  border-radius:8px;
  margin-bottom:10px;
}

/* BOTTOM NAV */
.bottom-nav {
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:white;
  display:flex;
  justify-content:space-around;
  padding:10px 0;
  box-shadow:0 -2px 10px rgba(0,0,0,0.1);
}

.bottom-nav a {
  text-decoration:none;
  color:#1f3c88;
  font-size:12px;
  text-align:center;
}
</style>
</head>

<body>

<div class="app-header">
Mindset
</div>

<div class="container">

<!-- NOTIFICATION AREA -->
<div id="notificationArea"></div>

<!-- SMS STYLE DAILY MESSAGE -->
<div class="card">
<h3>üì± Daily Motivation</h3>
<p id="smsMessage"></p>
<button onclick="newSMS()">New Message</button>
</div>

<!-- REFLECTION -->
<div class="card">
<h3>Daily Reflection</h3>
<textarea id="r1" placeholder="What went well today?"></textarea>
<textarea id="r2" placeholder="What step forward did I take?"></textarea>
<textarea id="r3" placeholder="What can I improve tomorrow?"></textarea>
</div>

<!-- APPOINTMENTS -->
<div class="card">
<h3>üìÖ Appointment Tracker</h3>
<input type="text" id="apptName" placeholder="Appointment Name">
<input type="datetime-local" id="apptDate">
<button onclick="addAppt()">Add Appointment</button>
<div id="apptList"></div>
</div>

</div>

<!-- MOBILE NAVIGATION -->
<div class="bottom-nav">
  <a href="index.html">üè† Home</a>
  <a href="goals.html">üéØ Goals</a>
  <a href="employment.html">üíº Jobs</a>
  <a href="housing.html">üè† Housing</a>
  <a href="mindset.html">üß† Mindset</a>
</div>

<script>

/* SAVE REFLECTIONS */
["r1","r2","r3"].forEach(id=>{
 const el=document.getElementById(id);
 const saved=localStorage.getItem(id);
 if(saved) el.value=saved;
 el.addEventListener("input",()=>localStorage.setItem(id,el.value));
});

/* SMS STYLE DAILY MESSAGE */
const smsMessages=[
"You got through yesterday. You can handle today.",
"One good decision changes everything.",
"Keep going. You‚Äôre rebuilding something strong.",
"Consistency beats motivation.",
"You‚Äôre not starting over ‚Äî you‚Äôre starting smarter."
];

function newSMS(){
 const msg=smsMessages[Math.floor(Math.random()*smsMessages.length)];
 document.getElementById("smsMessage").textContent=msg;
 localStorage.setItem("dailySMS",msg);
}

if(localStorage.getItem("dailySMS")){
 document.getElementById("smsMessage").textContent=
 localStorage.getItem("dailySMS");
}else{
 newSMS();
}

/* APPOINTMENTS */
function addAppt(){
 const name=apptName.value;
 const date=apptDate.value;
 if(!name||!date) return;
 const appts=JSON.parse(localStorage.getItem("appts")||"[]");
 appts.push({name,date});
 localStorage.setItem("appts",JSON.stringify(appts));
 showAppts();
 checkReminders();
}

function showAppts(){
 const list=document.getElementById("apptList");
 list.innerHTML="";
 const appts=JSON.parse(localStorage.getItem("appts")||"[]");
 appts.forEach(a=>{
  list.innerHTML+=`<div>${a.name} - ${new Date(a.date).toLocaleString()}</div>`;
 });
}
showAppts();

/* AUTOMATIC REMINDER POPUP */
function checkReminders(){
 const now=new Date();
 const appts=JSON.parse(localStorage.getItem("appts")||"[]");
 const area=document.getElementById("notificationArea");
 area.innerHTML="";
 appts.forEach(a=>{
  const apptDate=new Date(a.date);
  const diff=(apptDate-now)/(1000*60*60); // hours difference
  if(diff>0 && diff<=24){
    area.innerHTML+=`<div class="notification">
    Reminder: ${a.name} is within 24 hours!
    </div>`;
  }
 });
}
checkReminders();

/* CHECK REMINDERS EVERY MINUTE */
setInterval(checkReminders,60000);

</script>

</body>
</html>
